"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[661],{3227:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var r=t(2791),a=t(8735),i=t(3822),s=t.p+"static/media/detail.7d3ce82f8153e1e5ade8.png",l=t(5861),c=t(885),o=t(7757),u=t.n(o),d=t(5223),x=t(2908),f=t(5798),m=t(2213),h=t(2504);function p(e,n){var t=(0,r.useState)(e),a=(0,c.Z)(t,2),i=a[0],s=a[1];return(0,r.useEffect)((function(){var t=setTimeout((function(){s(e)}),n);return function(){clearTimeout(t)}}),[e]),i}var v=t(1928),j=t(6579),g=t(3842),b=t(9414),N=t(3393),y=t(184),w=function(e){var n=e.isOpen,t=e.submitHandler,i=e.onClose,s=e.orderId,l=(0,r.useState)(""),o=(0,c.Z)(l,2),u=o[0],d=o[1];return(0,y.jsxs)(b.u_,{isOpen:n,isCentered:!0,onClose:i,children:[(0,y.jsx)(b.ZA,{}),(0,y.jsxs)(b.hz,{children:[(0,y.jsx)(b.xB,{children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"}),(0,y.jsx)(b.ol,{}),(0,y.jsxs)(b.fe,{children:[(0,y.jsx)(N.lX,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"}),(0,y.jsx)(f.II,{value:u,isInvalid:""===u,onChange:function(e){return d(e.target.value)}}),(0,y.jsxs)(a.xu,{className:"mt-4 justify-end gap-2 flex",children:[(0,y.jsx)(h.zx,{onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,y.jsx)(h.zx,{disabled:""===u,colorScheme:"blue",onClick:function(){t(s,"rejected",u),d("")},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})]})]})},C=function(){var e=(0,r.useState)(15),n=(0,c.Z)(e,2),t=n[0],i=n[1],s=(0,d.qY)(),o=s.isOpen,b=s.onOpen,N=s.onClose,C=(0,r.useState)(0),k=(0,c.Z)(C,2),I=k[0],Z=k[1],S=(0,r.useState)(""),z=(0,c.Z)(S,2),T=z[0],_=z[1],E=p(T,350),H=(0,r.useState)(!1),M=(0,c.Z)(H,2),F=M[0],O=M[1],K=(0,x.pm)({duration:3e3,isClosable:!0}),P=(0,j.T)(),R=(0,j.C)((function(e){return e.order})).orders,D=(0,r.useMemo)((function(){var e=[];if(!R||0===R.length)return e;for(var n=0;n<t;n++){var r=R[n];if(!r)break;e.push(r)}return e}),[t,R]);(0,r.useEffect)((function(){var e=function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===E){e.next=5;break}return O(!0),e.next=5,P((0,g.A9)(E));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),K({title:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"});case 10:return e.prev=10,O(!1),i(15),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[0,7,10,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[E,P,K]);var A=function(){var e=(0,l.Z)(u().mark((function e(n,t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rejected"!==t||o){e.next=3;break}return Z(n),e.abrupt("return",b());case 3:return e.next=5,P((0,g.yp)({orderId:n,status:t,rejectedMessage:r}));case 5:N();case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();return(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{children:[(0,y.jsx)(a.xv,{fontSize:"xl",children:"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u043a\u0430\u0437\u0430"}),(0,y.jsx)(f.BZ,{className:"mt-4",children:(0,y.jsx)(f.II,{value:T,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430 \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onChange:function(e){return _(e.target.value)}})})]}),(0,y.jsxs)(a.xu,{className:"mt-4 flex items-center flex-col",children:[F&&(0,y.jsx)(a.xu,{className:"text-center",children:(0,y.jsx)(m.$,{width:"75px",height:"75px",color:"blue.500",speed:"0.8s",marginTop:"10vh"})}),D&&!F&&D.map((function(e,n){return(0,y.jsx)(v.Z,{item:e,isAdmin:!0,changeStatusHandler:A},"".concat(e.id,"_").concat(n))}))]}),D&&0!==D.length&&t<R.length&&!F&&(0,y.jsx)(a.xu,{className:"mt-5 p-4 text-center",children:(0,y.jsx)(h.zx,{onClick:function(){i(t+10)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"})}),(0,y.jsx)(w,{isOpen:o,orderId:I,onClose:N,submitHandler:A})]})},k=t(5790),I=t(5277),Z=t(6353),S=function(e){var n=e.title,t=e.isParent,i=void 0!==t&&t,s=e.isEditModal,l=void 0!==s&&s,o=e.id,u=e.parentCategoryId,d=e.item,x=e.saveHandler,m=e.deleteHandler,h=e.editHandlerModal,p=(0,r.useState)(!1),v=(0,c.Z)(p,2),j=v[0],g=v[1],b=(0,r.useRef)(!1),N=(0,r.useState)(n),w=(0,c.Z)(N,2),C=w[0],I=w[1];(0,r.useEffect)((function(){""===n&&(g(!0),b.current=!0)}),[]);var Z=function(e){if(i&&e.stopPropagation(),o)return m(o)},S=function(e){i&&e.stopPropagation(),""!==C&&g(!j)},z=function(e){if(i&&e.stopPropagation(),""!==C)return g(!j),b.current?i?(x(null,{title:C}),b.current=!1):x(null,{title:C,parentCategoryId:u}):-1!==o?x(o,{title:C}):void 0};return i?(0,y.jsxs)(k.KF,{justifyContent:"space-between",cursor:"pointer",as:"div",children:[j&&(0,y.jsx)(f.II,{onKeyDown:function(e){return e.stopPropagation()},required:!0,className:"max-w-sm",value:C,onChange:function(e){return I(e.target.value)},onClick:function(e){return e.stopPropagation()}}),!j&&(0,y.jsx)(a.xv,{className:"py-2",children:C}),(0,y.jsxs)(a.xu,{children:[!j&&(0,y.jsx)("i",{className:"cursor-pointer text-chakra-blue-500 fa-solid fa-pen p-1 ",onClick:S}),j&&(0,y.jsx)("i",{className:"fa-solid fa-check p-1 text-chakra-green-400 ml-4",style:{cursor:""===C?"not-allowed":"pointer"},onClick:z}),(0,y.jsx)("i",{className:"cursor-pointer text-chakra-red-500 fa-solid fa-trash-can p-1 ml-4",onClick:Z}),(0,y.jsx)(k.XE,{className:"ml-2"})]})]}):(0,y.jsxs)(a.xu,{className:"p-3 flex justify-between items-center",children:[j&&(0,y.jsx)(f.II,{className:"max-w-sm",value:C,onChange:function(e){return I(e.target.value)}}),!j&&(0,y.jsx)(a.xv,{children:l?n:C}),(0,y.jsxs)(a.xu,{className:"flex gap-4",children:[!j&&(0,y.jsx)("i",{className:"cursor-pointer text-chakra-blue-500 fa-solid fa-pen p-1 ",onClick:l?h(d):S}),j&&(0,y.jsx)("i",{className:"fa-solid fa-check p-1 text-chakra-green-400 ml-4",style:{cursor:""===C?"not-allowed":"pointer"},onClick:z}),(0,y.jsx)("i",{className:"cursor-pointer text-chakra-red-500 fa-solid fa-trash-can p-1",onClick:Z})]})]})},z=function(e){var n,t,r=e.item,i=e.saveHandler,s=e.deleteHandler,l=e.addChildCategoryHandler;return(0,y.jsxs)(k.Qd,{children:[(0,y.jsx)(S,{id:null!==(n=r.id)&&void 0!==n?n:-1,saveHandler:i,isParent:!0,title:r.title,parentCategoryId:r.id,deleteHandler:s}),(0,y.jsxs)(k.Hk,{children:[!(null===r||void 0===r||null===(t=r.childCategories)||void 0===t||!t.length)&&r.childCategories.map((function(e,n){var t;return(0,y.jsx)(S,{deleteHandler:s,saveHandler:i,id:null!==(t=e.id)&&void 0!==t?t:-1,title:e.title,parentCategoryId:r.id},"".concat(e.id,"_").concat(n))})),(0,y.jsx)(a.xu,{textAlign:"right",children:(0,y.jsx)(h.zx,{color:"gray.600",className:"mr-4",variant:"ghost",onClick:function(){return l(r.id)},disabled:!r.title,children:(0,y.jsx)("i",{className:"fa-solid fa-plus"})})})]})]})},T=function(){var e=(0,j.C)((function(e){return e.category})),n=e.items,t=(0,j.T)();(0,r.useEffect)((function(){0===e.items.length&&t((0,I.Rk)())}),[]);var i=function(e){t((0,Z.cq)(e))},s=function(e,n){return t(e?(0,I.hk)({body:n,id:e}):(0,I.l1)(n))},l=function(e){return t(e>0?(0,I.KU)(e):(0,Z.uN)(e))};return(0,y.jsxs)(a.xu,{children:[(0,y.jsx)(a.xu,{className:"flex justify-between items-center",children:(0,y.jsx)(a.xv,{fontSize:"xl",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439"})}),(0,y.jsx)(k.UQ,{className:"mt-5",allowMultiple:!0,children:!!n.length&&n.map((function(e,n){return(0,y.jsx)(z,{item:e,saveHandler:s,deleteHandler:l,addChildCategoryHandler:i},"".concat(null===e||void 0===e?void 0:e.id,"_").concat(n))}))}),(0,y.jsx)(a.xu,{className:"text-right p-4",children:(0,y.jsx)(h.zx,{onClick:function(){t((0,Z.cq)())},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})},_=t(4942),E=t(1413),H=t(5033),M=t(8581),F={title:"",model:"",newImg:null,releaseDate:""},O=function(){var e=(0,d.qY)(),n=e.isOpen,t=e.onOpen,i=e.onClose,s=(0,j.C)((function(e){return e.model})).items,o=(0,j.T)(),x=(0,r.useState)(F),m=(0,c.Z)(x,2),p=m[0],v=m[1];(0,r.useEffect)((function(){0===s.length&&o((0,H.rq)())}),[]);var g=function(e,n){"newImg"===e&&n[0]&&(n=URL.createObjectURL(n[0])),v((function(t){return(0,E.Z)((0,E.Z)({},t),{},(0,_.Z)({},e,n))}))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,n=arguments.length>1?arguments[1]:void 0;return function(){v(n?(0,E.Z)((0,E.Z)({},e),{},{brandId:n}):e),t()}},w=function(){i(),v(F)},C=function(){var e=arguments.length>1?arguments[1]:void 0;o((0,H.mS)(e))},I=function(e,n){o((0,H.E$)({id:e,body:n}))},Z=function(){var e=(0,l.Z)(u().mark((function e(){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData,!p.newImg){e.next=6;break}return e.next=4,fetch(p.newImg).then((function(e){return e.blob()}));case 4:t=e.sent,n.append("img",t);case 6:n.append("title",null===p||void 0===p?void 0:p.title),n.append("model",null===p||void 0===p?void 0:p.model),n.append("brandId",null===p||void 0===p?void 0:p.brandId),n.append("releaseDate",p.releaseDate),null!==p&&void 0!==p&&p.id?o((0,H.E$)({id:p.id,body:n})):o((0,H.mS)(n)),w();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){o((0,H.$s)(e))};return(0,y.jsxs)(a.xu,{children:[(0,y.jsx)(a.xu,{className:"flex items-center justify-between",children:(0,y.jsx)(a.xv,{fontSize:"xl",children:"\u041c\u0430\u0440\u043a\u0438 \u043c\u0430\u0448\u0438\u043d"})}),(0,y.jsx)(k.UQ,{className:"mt-5",allowMultiple:!0,children:s&&s.map((function(e,n){var t;return(0,y.jsxs)(k.Qd,{children:[(0,y.jsx)(S,{deleteHandler:z,id:e.id,saveHandler:e.id<0?C:I,title:e.title,isParent:!0}),(0,y.jsxs)(k.Hk,{children:[!(null===e||void 0===e||null===(t=e.brandModels)||void 0===t||!t.length)&&e.brandModels.map((function(n,t){var r;return(0,y.jsx)(S,{item:n,deleteHandler:z,saveHandler:C,id:null!==(r=n.id)&&void 0!==r?r:-1,title:n.title,parentCategoryId:e.id,editHandlerModal:N,isEditModal:!0},"".concat(n.id,"_").concat(t))})),(0,y.jsx)(a.xu,{textAlign:"right",children:(0,y.jsx)(h.zx,{color:"gray.600",className:"mr-4",variant:"ghost",onClick:N(void 0,e.id),disabled:!e.title,children:(0,y.jsx)("i",{className:"fa-solid fa-plus"})})})]})]},"".concat(e.id,"_").concat(n))}))}),(0,y.jsx)(a.xu,{className:"text-right p-4",children:(0,y.jsx)(h.zx,{onClick:function(){return o((0,M.Y2)())},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}),(0,y.jsxs)(b.u_,{isOpen:n,onClose:w,isCentered:!0,children:[(0,y.jsx)(b.ZA,{}),(0,y.jsxs)(b.hz,{children:[(0,y.jsx)(b.xB,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c"}),(0,y.jsx)(b.ol,{}),(0,y.jsxs)(b.fe,{children:[(0,y.jsx)(a.xv,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,y.jsx)(f.II,{value:p.title,onChange:function(e){return g("title",e.target.value)}}),(0,y.jsx)(a.xv,{children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),(0,y.jsx)(f.II,{className:"mt-2",value:p.model,onChange:function(e){return g("model",e.target.value)}}),(0,y.jsx)(a.xv,{children:"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430"}),(0,y.jsx)(f.II,{className:"mt-2",value:p.releaseDate,onChange:function(e){return g("releaseDate",e.target.value)}}),(0,y.jsxs)(a.xu,{children:[(0,y.jsx)(a.xv,{className:"mt-2",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,y.jsx)("label",{className:"cursor-pointer mt-3 p-4 flex justify-center items-center border-2 border-dashed",htmlFor:"uploadFile",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,y.jsx)("input",{className:"overflow-hidden w-0 h-0 opacity-0 absolute",type:"file",name:"uploadFile",id:"uploadFile",onChange:function(e){var n;return g("newImg",null!==(n=e.target.files)&&void 0!==n?n:"")}})]}),(0,y.jsx)(a.xu,{className:"mt-2 flex justify-center",children:(0,y.jsx)("img",{className:"max-w-full",src:p.newImg?p.newImg:p.img?p.img:"",alt:""})})]}),(0,y.jsxs)(b.mz,{children:[(0,y.jsx)(h.zx,{variant:"ghost",mr:3,onClick:w,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,y.jsx)(h.zx,{colorScheme:"blue",onClick:Z,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})]})},K=t(4964),P=t(3763),R=function(e){var n,t,r=e.item,i=e.deleteHandler,s=e.editHandler;return(0,y.jsxs)(a.xu,{className:"select-none flex flex-col justify-between items-center p-6 shadow-md rounded-lg mobile:max-w-[200px] mobile:mx-auto",border:"1px solid #ededed",children:[(0,y.jsxs)(a.xu,{className:"text-right w-full",children:[(0,y.jsx)("i",{className:"cursor-pointer text-chakra-blue-500 fa-solid fa-pen p-1 ",onClick:function(){return s(r)}}),(0,y.jsx)("i",{className:"cursor-pointer text-chakra-red-500 fa-solid fa-trash-can p-1 ml-2",onClick:function(){return i(r.id)}})]}),(0,y.jsx)("img",{className:"w-full mt-8",src:null!==(n=r.img)&&void 0!==n?n:P.uz,alt:"",style:{maxWidth:"150px"}}),(0,y.jsx)(a.xv,{className:"text-center max-w-full",mt:1,fontSize:"lg",fontWeight:"medium",children:r.title}),(0,y.jsxs)(a.xu,{className:"justify-between items-center flex w-full flex-wrap max-w-full",children:[(0,y.jsx)(a.xv,{color:"gray.500",children:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b:"}),(0,y.jsx)(a.xv,{className:"max-w-full",color:"gray.500",children:null!==(t=r.vendorCode)&&void 0!==t?t:"-"})]}),(0,y.jsxs)(a.xv,{className:"text-center",fontWeight:"bold",fontSize:"xl",color:"black",children:[r.price,"\u20bd"]})]})},D=function(e){var n=e.changeCondtion,t=(0,r.useState)(""),i=(0,c.Z)(t,2),s=i[0],o=i[1],d=(0,r.useState)(15),v=(0,c.Z)(d,2),g=v[0],b=v[1],N=p(s,350),w=(0,r.useState)(!1),C=(0,c.Z)(w,2),k=C[0],I=C[1],Z=(0,x.pm)({duration:3e3,isClosable:!0}),S=(0,j.T)(),z=(0,j.C)((function(e){return e.admin})).details,T=(0,r.useMemo)((function(){var e=[];if(!z||0===z.length)return e;for(var n=0;n<g;n++){var t=z[n];if(!t)break;e.push(t)}return e}),[g,z]);(0,r.useEffect)((function(){var e=function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===N){e.next=5;break}return I(!0),e.next=5,S((0,K.B7)(N));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Z({title:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"});case 10:return e.prev=10,I(!1),b(15),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[0,7,10,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[N,S,Z]),console.log(T);var _=function(e){S((0,K.v7)(e))},E=function(e){n({isMain:!1,selectedItem:e})};return(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{className:"flex justify-between items-center",children:[(0,y.jsx)(a.xv,{fontSize:"xl",children:"\u041f\u043e\u0438\u0441\u043a \u0434\u0435\u0442\u0430\u043b\u0438"}),(0,y.jsx)(h.zx,{onClick:function(){n({isMain:!1,selectedItem:null})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),(0,y.jsx)(f.BZ,{className:"mt-4",children:(0,y.jsx)(f.II,{value:s,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043b\u0438 \u0430\u0440\u0442\u0438\u043a\u0443\u043b \u0434\u0435\u0442\u0430\u043b\u0438",onChange:function(e){return o(e.target.value)}})}),(0,y.jsxs)(a.xu,{className:"grid grid-cols-3 justify-around gap-5 mt-6",children:[k&&(0,y.jsx)(a.xu,{className:"text-center",children:(0,y.jsx)(m.$,{width:"75px",height:"75px",color:"blue.500",speed:"0.8s",marginTop:"10vh"})}),T&&T.map((function(e,n){return(0,y.jsx)(R,{item:e,deleteHandler:_,editHandler:E},"".concat(e.id,"_").concat(n))}))]}),T&&0!==T.length&&g<z.length&&!k&&(0,y.jsx)(a.xu,{className:"mt-5 p-4 text-center",children:(0,y.jsx)(h.zx,{onClick:function(){b(g+15)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"})})]})},A=t(5987),L=t(2982),B=t(1134),$=t(9505),q=t(9735),W=function(e){var n=e.itemsKey,t=e.title,i=e.items,s=e.addRelation,o=e.deleteRelation,d=(0,r.useState)(!1),x=(0,c.Z)(d,2),v=x[0],g=x[1],b=(0,r.useState)(""),w=(0,c.Z)(b,2),C=w[0],k=w[1],I=(0,r.useState)(!1),Z=(0,c.Z)(I,2),S=Z[0],z=Z[1],T=(0,j.C)((function(e){return e.admin[n]})),_=(0,r.useRef)(null),E=p(C,350),H=(0,j.T)();return(0,r.useEffect)((function(){var e=function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===E){e.next=5;break}return z(!0),e.next=5,H((0,$.M)({searchStr:E,type:n}));case 5:return e.prev=5,z(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[E,n]),(0,r.useEffect)((function(){var e=function(e){e.path.includes(_.current)||g(!1)};return window.addEventListener("click",e),function(){H((0,q.V)()),window.removeEventListener("click",e)}}),[]),(0,y.jsxs)(a.xu,{ref:_,children:[(0,y.jsx)(N.lX,{children:t}),(0,y.jsxs)(a.xu,{className:"relative",children:[i&&i.map((function(e,t){return(0,y.jsxs)(h.zx,{className:"flex items-center mt-2 justify-between cursor-pointer",fontWeight:"normal",as:a.xu,variant:"ghost",onClick:function(){return o(n,e.id)},children:[e.title,(0,y.jsx)("i",{className:"fa-solid fa-xmark mt-1"})]},"".concat(e.id,"_").concat(t))})),(0,y.jsx)(f.II,{className:"mt-4",onFocus:function(){return g(!0)},value:C,onChange:function(e){return k(e.target.value)}}),v&&!S&&(0,y.jsx)(a.xu,{className:"mt-2",children:T&&T.map((function(e,t){var r=i.find((function(n){return n.id===e.id}));return(0,y.jsxs)(h.zx,{onClick:function(){return s(n,e)},disabled:!!r,className:"mt-2 p-2 cursor-pointer flex justify-between items-center w-full",children:[e.title,(0,y.jsx)("i",{className:"fa-solid fa-circle-plus"})]},"".concat(e.id,"_").concat(t))}))}),S&&(0,y.jsx)(a.xu,{className:"text-center",children:(0,y.jsx)(m.$,{width:"75px",height:"75px",color:"blue.500",speed:"0.8s",marginTop:"20px"})})]})]})},U=["id","img","categories","models"],G=function(e){var n,t=e.changeCondition,i=e.selectedItem,s=(0,r.useState)(null!==(n=null===i||void 0===i?void 0:i.img)&&void 0!==n?n:null),o=(0,c.Z)(s,2),d=o[0],m=o[1],p=(0,B.cI)({defaultValues:{title:"",vendorCode:""}}),v=p.register,g=p.handleSubmit,b=p.reset,w=(0,j.T)(),C=(0,x.pm)({duration:3e3,status:"success"}),k=(0,r.useState)({models:null!==i&&void 0!==i&&i.models?(0,L.Z)(null===i||void 0===i?void 0:i.models):[],categories:null!==i&&void 0!==i&&i.categories?(0,L.Z)(null===i||void 0===i?void 0:i.categories):[]}),I=(0,c.Z)(k,2),Z=I[0],S=I[1];(0,r.useEffect)((function(){if(i){i.id,i.img,i.categories,i.models;var e=(0,A.Z)(i,U);b(e)}}),[]);var z=function(){var e=(0,l.Z)(u().mark((function e(n){var r,a,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new FormData,a=(0,E.Z)((0,E.Z)({},n),Z),!d){e.next=7;break}return e.next=5,fetch(d).then((function(e){return e.blob()}));case 5:s=e.sent,r.append("img",s);case 7:if(Object.entries(a).forEach((function(e){var n=(0,c.Z)(e,2),t=n[0],a=n[1];if("id"!==t)return Array.isArray(a)?r.append(t,JSON.stringify(a)):r.append(t,a.toString())})),e.prev=8,!i){e.next=15;break}return l={data:r,id:i.id},e.next=13,w((0,K.tK)(l));case 13:e.next=17;break;case 15:return e.next=17,w((0,K.Pl)(r));case 17:C({title:i?"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e":"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"}),t({isMain:!0,selectedItem:null}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),C({title:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",status:"error"});case 24:case"end":return e.stop()}}),e,null,[[8,21]])})));return function(n){return e.apply(this,arguments)}}(),T=function(){t({isMain:!0,selectedItem:null})},H=function(e,n){S((function(t){var r=[].concat((0,L.Z)(t[e]),[n]);return(0,E.Z)((0,E.Z)({},t),{},(0,_.Z)({},e,r))}))},M=function(e,n){S((function(t){var r=(0,L.Z)(t[e]).filter((function(e){return n!==e.id}));return(0,E.Z)((0,E.Z)({},t),{},(0,_.Z)({},e,r))}))};return(0,y.jsxs)(a.xu,{children:[(0,y.jsx)(a.xu,{children:(0,y.jsx)(a.xv,{className:"text-chakra-blue-500 cursor-pointer",onClick:T,children:"\u041d\u0430\u0437\u0430\u0434"})}),(0,y.jsx)(a.xu,{children:(0,y.jsxs)(a.xv,{fontSize:"xl",children:[i?"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435"," \u0434\u0435\u0442\u0430\u043b\u0438"]})}),(0,y.jsxs)(a.xu,{className:"mt-4",children:[(0,y.jsx)(N.lX,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,y.jsx)(f.II,(0,E.Z)({},v("title",{required:!0})))]}),(0,y.jsxs)(a.xu,{children:[(0,y.jsx)(N.lX,{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),(0,y.jsx)(f.II,(0,E.Z)((0,E.Z)({},v("price",{required:!0})),{},{type:"number"}))]}),(0,y.jsxs)(a.xu,{children:[(0,y.jsx)(N.lX,{children:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"}),(0,y.jsx)(f.II,(0,E.Z)({},v("vendorCode",{required:!0})))]}),(0,y.jsxs)(a.xu,{children:[(0,y.jsx)(N.lX,{children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,y.jsx)("label",{className:"cursor-pointer mt-3 p-4 flex justify-center items-center border-2 border-dashed",htmlFor:"uploadFile",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,y.jsx)("input",{onChange:function(e){var n=URL.createObjectURL(e.target.files[0]);m(n)},name:"img",className:"overflow-hidden w-0 h-0 opacity-0 absolute",type:"file",id:"uploadFile"}),d&&(0,y.jsx)(a.xu,{className:"flex justify-center mt-4 max-w-[250px] mx-auto",children:(0,y.jsx)("img",{src:d,alt:""})})]}),(0,y.jsx)(a.xu,{className:"mt-4",children:(0,y.jsx)(W,{itemsKey:"categories",title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",addRelation:H,deleteRelation:M,items:Z.categories})}),(0,y.jsx)(a.xu,{className:"mt-4",children:(0,y.jsx)(W,{itemsKey:"models",title:"\u041c\u043e\u0434\u0435\u043b\u0438",addRelation:H,deleteRelation:M,items:Z.models})}),(0,y.jsxs)(a.xu,{className:"flex gap-4 mt-8 justify-center",children:[(0,y.jsx)(h.zx,{onClick:T,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,y.jsx)(h.zx,{colorScheme:"blue",onClick:g(z),children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},X=function(){var e=(0,r.useState)({isMain:!0,selectedItem:null}),n=(0,c.Z)(e,2),t=n[0],i=n[1],s=t.isMain,l=t.selectedItem;return(0,y.jsxs)(a.xu,{children:[s&&(0,y.jsx)(D,{changeCondtion:i}),!s&&(0,y.jsx)(G,{changeCondition:i,selectedItem:l})]})},Q=function(){return(0,y.jsxs)(a.W2,{maxW:"container.xl",children:[(0,y.jsx)(a.xv,{className:"sticky top-36 left-4",fontSize:"1xl",fontWeight:"bold",children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"}),(0,y.jsx)(i.mQ,{children:(0,y.jsxs)(a.kC,{className:"mt-4 w-full lowTablet:flex-col",justifyContent:"space-between",children:[(0,y.jsx)(a.xu,{className:"w-full max-w-xs sticky top-44 left-4 lowTablet:static lowTablet:mx-auto lowTablet:text-center",borderWidth:"1px",borderRadius:"lg",flexGrow:0,height:"max-content",children:(0,y.jsxs)(i.td,{flexDirection:"column",borderBottom:"none",children:[(0,y.jsxs)(i.OK,{className:"py-3",children:[(0,y.jsx)("i",{className:"fa-solid fa-clipboard-list mr-2"}),"\u0417\u0430\u043a\u0430\u0437\u044b"]}),(0,y.jsxs)(i.OK,{className:"py-3",children:[(0,y.jsx)("i",{className:"fa-solid fa-list mr-2"}),"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"]}),(0,y.jsxs)(i.OK,{className:"py-3",children:[(0,y.jsx)("i",{className:"fa-solid fa-car mr-2"}),"\u041c\u043e\u0434\u0435\u043b\u0438"]}),(0,y.jsxs)(i.OK,{className:"py-3",children:[(0,y.jsx)("img",{className:"w-4 h-4 mr-2",src:s,alt:""}),"\u0414\u0435\u0442\u0430\u043b\u0438"]})]})}),(0,y.jsx)(a.xu,{className:"flex-auto ml-7 lowTablet:ml-0 lowTablet:mt-2",children:(0,y.jsxs)(i.nP,{children:[(0,y.jsx)(i.x4,{className:"p-0",children:(0,y.jsx)(C,{})}),(0,y.jsx)(i.x4,{className:"p-0",children:(0,y.jsx)(T,{})}),(0,y.jsx)(i.x4,{className:"p-0",children:(0,y.jsx)(O,{})}),(0,y.jsx)(i.x4,{className:"p-0",children:(0,y.jsx)(X,{})})]})})]})})]})}},3822:function(e,n,t){t.d(n,{OK:function(){return z},mQ:function(){return S},nP:function(){return E},td:function(){return T},x4:function(){return _}});var r=t(3209),a=t(5971),i=t(2791),s=t(5336),l=t(4562),c=t(5223),o=t(4083),u=t(9611);function d(){return d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d.apply(this,arguments)}function x(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var f=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],m=["isDisabled","isFocusable"],h=["isSelected","id","children"],p=(0,l.n)(),v=p[0],j=p[1],g=p[2],b=p[3];var N=(0,u.kr)({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),y=N[0],w=N[1];function C(e,n){return e+"--tab-"+n}function k(e,n){return e+"--tabpanel-"+n}var I=["children","className"],Z=["htmlProps","descendants"],S=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Tabs",e),s=(0,r.Lr)(e),l=s.children,o=s.className,u=function(e){var n=e.defaultIndex,t=e.onChange,r=e.index,a=e.isManual,s=e.isLazy,l=e.lazyBehavior,o=void 0===l?"unmount":l,u=e.orientation,d=void 0===u?"horizontal":u,m=e.direction,h=void 0===m?"ltr":m,p=x(e,f),v=i.useState(null!=n?n:0),j=v[0],b=v[1],N=(0,c.Tx)({defaultValue:null!=n?n:0,value:r,onChange:t}),y=N[0],w=N[1];i.useEffect((function(){null!=r&&b(r)}),[r]);var C=g();return{id:(0,c.Me)(e.id,"tabs"),selectedIndex:y,focusedIndex:j,setSelectedIndex:w,setFocusedIndex:b,isManual:a,isLazy:s,lazyBehavior:o,orientation:d,descendants:C,direction:h,htmlProps:p}}(x(s,I)),m=u.htmlProps,h=u.descendants,p=x(u,Z),j=i.useMemo((function(){return p}),[p]),b=(0,a.CE)(m,["isFitted"]);return i.createElement(v,{value:h},i.createElement(y,{value:j},i.createElement(r.Fo,{value:t},i.createElement(r.m$.div,d({className:(0,a.cx)("chakra-tabs",o),ref:n},b,{__css:t.root}),l))))}));a.Ts&&(S.displayName="Tabs");var z=(0,r.Gp)((function(e,n){var t=(0,r.yK)(),l=function(e){var n=e.isDisabled,t=e.isFocusable,r=x(e,m),i=w(),l=i.setSelectedIndex,c=i.isManual,o=i.id,f=i.setFocusedIndex,h=i.selectedIndex,p=b({disabled:n&&!t}),v=p.index,j=p.register,g=v===h,N=(0,s.h)(d({},r,{ref:(0,u.lq)(j,e.ref),isDisabled:n,isFocusable:t,onClick:(0,a.v0)(e.onClick,(function(){l(v)}))}));return d({},N,{id:C(o,v),role:"tab",tabIndex:g?0:-1,type:"button","aria-selected":g,"aria-controls":k(o,v),onFocus:n?void 0:(0,a.v0)(e.onFocus,(function(){f(v),!c&&(!n||!t)&&l(v)}))})}(d({},e,{ref:n})),c=d({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},t.tab);return i.createElement(r.m$.button,d({},l,{className:(0,a.cx)("chakra-tabs__tab",e.className),__css:c}))}));a.Ts&&(z.displayName="Tab");var T=(0,r.Gp)((function(e,n){var t=function(e){var n=w(),t=n.focusedIndex,r=n.orientation,s=n.direction,l=j(),c=i.useCallback((function(e){var n,i=function(){var e=l.nextEnabled(t);e&&(0,a.T_)(e.node)},c=function(){var e=l.prevEnabled(t);e&&(0,a.T_)(e.node)},o="horizontal"===r,u="vertical"===r,d=(0,a.uh)(e),x="ltr"===s?"ArrowRight":"ArrowLeft",f=((n={})["ltr"===s?"ArrowLeft":"ArrowRight"]=function(){return o&&c()},n[x]=function(){return o&&i()},n.ArrowDown=function(){return u&&i()},n.ArrowUp=function(){return u&&c()},n.Home=function(){var e=l.firstEnabled();e&&(0,a.T_)(e.node)},n.End=function(){var e=l.lastEnabled();e&&(0,a.T_)(e.node)},n)[d];f&&(e.preventDefault(),f(e))}),[l,t,r,s]);return d({},e,{role:"tablist","aria-orientation":r,onKeyDown:(0,a.v0)(e.onKeyDown,c)})}(d({},e,{ref:n})),s=d({display:"flex"},(0,r.yK)().tablist);return i.createElement(r.m$.div,d({},t,{className:(0,a.cx)("chakra-tabs__tablist",e.className),__css:s}))}));a.Ts&&(T.displayName="TabList");var _=(0,r.Gp)((function(e,n){var t=function(e){var n=e.isSelected,t=e.id,r=e.children,s=x(e,h),l=w(),c=l.isLazy,o=l.lazyBehavior,u=i.useRef(!1);return n&&(u.current=!0),d({tabIndex:0},s,{children:(0,a.VI)({hasBeenSelected:u.current,isSelected:n,isLazy:c,lazyBehavior:o})?r:null,role:"tabpanel",hidden:!n,id:t})}(d({},e,{ref:n})),s=(0,r.yK)();return i.createElement(r.m$.div,d({outline:"0"},t,{className:(0,a.cx)("chakra-tabs__tab-panel",e.className),__css:s.tabpanel}))}));a.Ts&&(_.displayName="TabPanel");var E=(0,r.Gp)((function(e,n){var t=function(e){var n=w(),t=n.id,r=n.selectedIndex;return d({},e,{children:(0,u.WR)(e.children).map((function(e,n){return i.cloneElement(e,{isSelected:n===r,id:k(t,n),"aria-labelledby":C(t,n)})}))})}(e),s=(0,r.yK)();return i.createElement(r.m$.div,d({},t,{width:"100%",ref:n,className:(0,a.cx)("chakra-tabs__tab-panels",e.className),__css:s.tabpanels}))}));a.Ts&&(E.displayName="TabPanels");var H=(0,r.Gp)((function(e,n){var t=function(){var e=w(),n=j(),t=e.selectedIndex,r=e.orientation,s="horizontal"===r,l="vertical"===r,c=i.useState((function(){return s?{left:0,width:0}:l?{top:0,height:0}:void 0})),u=c[0],x=c[1],f=i.useState(!1),m=f[0],h=f[1];return(0,o.a)((function(){if(!(0,a.o8)(t)){var e=n.item(t);if(!(0,a.o8)(e)){s&&x({left:e.node.offsetLeft,width:e.node.offsetWidth}),l&&x({top:e.node.offsetTop,height:e.node.offsetHeight});var r=requestAnimationFrame((function(){h(!0)}));return function(){r&&cancelAnimationFrame(r)}}}}),[t,s,l,n]),d({position:"absolute",transitionProperty:"left, right, top, bottom, height, width",transitionDuration:m?"200ms":"0ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},u)}(),s=d({},e.style,t),l=(0,r.yK)();return i.createElement(r.m$.div,d({ref:n},e,{className:(0,a.cx)("chakra-tabs__tab-indicator",e.className),style:s,__css:l.indicator}))}));a.Ts&&(H.displayName="TabIndicator")}}]);
//# sourceMappingURL=661.0a46246e.chunk.js.map
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[241],{8913:function(e,n,t){t.d(n,{Z:function(){return N}});var r=t(1413),a=t(5272),s=t(3209),i=t(5971),l=t(9611),c=t(2791);function u(){return u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u.apply(this,arguments)}function o(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var d=["spacing"],m=["isCurrentPage","as","className","href"],x=["isCurrentPage","separator","isLastChild","spacing","children","className"],f=["children","spacing","separator","className"],h=(0,s.Gp)((function(e,n){var t=e.spacing,r=o(e,d),a=u({mx:t},(0,s.yK)().separator);return c.createElement(s.m$.span,u({ref:n,role:"presentation"},r,{__css:a}))}));i.Ts&&(h.displayName="BreadcrumbSeparator");var p=(0,s.Gp)((function(e,n){var t=e.isCurrentPage,r=e.as,a=e.className,l=e.href,d=o(e,m),x=(0,s.yK)(),f=u({ref:n,as:r,className:(0,i.cx)("chakra-breadcrumb__link",a)},d);return t?c.createElement(s.m$.span,u({"aria-current":"page",__css:x.link},f)):c.createElement(s.m$.a,u({__css:x.link,href:l},f))}));i.Ts&&(p.displayName="BreadcrumbLink");var v=(0,s.Gp)((function(e,n){var t=e.isCurrentPage,r=e.separator,a=e.isLastChild,d=e.spacing,m=e.children,f=e.className,v=o(e,x),j=(0,l.WR)(m).map((function(e){return e.type===p?c.cloneElement(e,{isCurrentPage:t}):e.type===h?c.cloneElement(e,{spacing:d,children:e.props.children||r}):e})),g=u({display:"inline-flex",alignItems:"center"},(0,s.yK)().item),b=(0,i.cx)("chakra-breadcrumb__list-item",f);return c.createElement(s.m$.li,u({ref:n,className:b},v,{__css:g}),j,!a&&c.createElement(h,{spacing:d},r))}));i.Ts&&(v.displayName="BreadcrumbItem");var j=(0,s.Gp)((function(e,n){var t=(0,s.jC)("Breadcrumb",e),r=(0,s.Lr)(e),a=r.children,d=r.spacing,m=void 0===d?"0.5rem":d,x=r.separator,h=void 0===x?"/":x,p=r.className,v=o(r,f),j=(0,l.WR)(a),g=j.length,b=j.map((function(e,n){return c.cloneElement(e,{separator:h,spacing:m,isLastChild:g===n+1})})),N=(0,i.cx)("chakra-breadcrumb",p);return c.createElement(s.m$.nav,u({ref:n,"aria-label":"breadcrumb",className:N,__css:t.container},v),c.createElement(s.Fo,{value:t},c.createElement(s.m$.ol,{className:"chakra-breadcrumb__list"},b)))}));i.Ts&&(j.displayName="Breadcrumb");var g=t(3504),b=t(184),N=function(e){var n=e.main,t=void 0===n||n,s=e.items;return(0,b.jsxs)(j,{separator:(0,b.jsx)(a.XC,{color:"gray.500"}),children:[t&&(0,b.jsx)(v,{children:(0,b.jsx)(p,{as:g.rU,to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),s&&s.map((function(e,n){var t;return(0,b.jsx)(v,{children:(0,b.jsx)(p,(0,r.Z)((0,r.Z)({as:g.rU,to:null!==(t=e.to)&&void 0!==t?t:"",isCurrentPage:!e.to},e.options),{},{children:e.title}))},"".concat(e.title,"_").concat(n))}))]})}},3763:function(e,n,t){var r;t.d(n,{ne:function(){return r},uz:function(){return a}}),function(e){e.MAIN="\u0413\u043b\u0430\u0432\u043d\u0430\u044f",e.MODEL="\u041c\u043e\u0434\u0435\u043b\u044c \u0430\u0432\u0442\u043e",e.CATEGORY="\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439",e.LIST="\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439"}(r||(r={}));var a="/images/detail/default.jpg"},1241:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(5861),a=t(7757),s=t.n(a),i=t(8735),l=t(2504),c=t(2213),u=t(8913),o=t(2791),d=t(5719),m=(0,t(1986).Yh)((function(e){return e.basket}),(function(e){var n=e.items,t=0;return n.forEach((function(e){var n,r;t+=(null!==(n=null===(r=e.detail)||void 0===r?void 0:r.price)&&void 0!==n?n:0)*e.amount})),t})),x=t(6579),f=t(3842),h=t(885),p=t(184),v=function(e){var n=e.createOrder,t=e.disabled,a=(0,o.useState)(!1),c=(0,h.Z)(a,2),u=c[0],d=c[1],m=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,n();case 3:d(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(i.xu,{children:(0,p.jsx)(l.zx,{className:"w-full mt-6",disabled:t,colorScheme:"blue",isLoading:u,onClick:m,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})})},j=t(5272),g=t(3763),b=function(e){var n,t,a,c,u=e.changeAmountHandler,d=e.deleteBasketItemHandler,m=e.item,x=(0,o.useState)(!1),f=(0,h.Z)(x,2),v=f[0],b=f[1],N=function(){var e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,d(null!==(n=m.id)&&void 0!==n?n:0);case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(i.xu,{className:"p-2 mt-2",children:(0,p.jsxs)(i.xu,{className:"flex items-start",children:[(0,p.jsx)(i.xu,{children:(0,p.jsx)("img",{className:"w-full",style:{maxWidth:"150px"},src:null!==(n=null===(t=m.detail)||void 0===t?void 0:t.img)&&void 0!==n?n:g.uz,alt:""})}),(0,p.jsxs)(i.xu,{className:"w-full ml-6",children:[(0,p.jsxs)(i.xu,{className:"flex justify-between items-center w-full",children:[(0,p.jsx)(i.xu,{children:(0,p.jsx)(i.xv,{fontSize:"md",children:null===(a=m.detail)||void 0===a?void 0:a.title})}),(0,p.jsx)(i.xu,{children:(0,p.jsxs)(i.xv,{fontSize:"lg",fontWeight:"medium",children:[null===(c=m.detail)||void 0===c?void 0:c.price,"\u20bd"]})})]}),(0,p.jsxs)(i.xu,{className:"mt-3 flex justify-between items-center",children:[(0,p.jsxs)(i.xu,{className:"rounded-xl items-center inline-flex px-4 gap-2",children:[(0,p.jsx)(l.zx,{variant:"ghost",disabled:1===m.amount,onClick:function(){var e;return u(null!==(e=m.id)&&void 0!==e?e:0,m.amount-1)},children:(0,p.jsx)(j.V_,{className:"cursor-pointer"})}),(0,p.jsx)(i.xv,{className:"select-none",fontWeight:"medium",fontSize:"xl",children:m.amount}),(0,p.jsx)(l.zx,{variant:"ghost",onClick:function(){var e;return u(null!==(e=m.id)&&void 0!==e?e:0,m.amount+1)},children:(0,p.jsx)(j.dt,{className:"cursor-pointer"})})]}),(0,p.jsx)(l.zx,{onClick:N,colorScheme:"red",isLoading:v,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})})},N=function(){var e=(0,x.T)(),n=(0,x.C)((function(e){return{items:e.basket.items,totalAmount:m(e),loading:e.basket.loading}})),t=n.loading,a=n.items,h=n.totalAmount;(0,o.useEffect)((function(){e((0,d.br)())}),[e]);var j=function(n,t){return e((0,d.$v)({id:n,amount:t}))},g=function(){var n=(0,r.Z)(s().mark((function n(t){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e((0,d.c)(t));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),N=function(){var n=(0,r.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e((0,f.fS)());case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,p.jsxs)(i.W2,{maxW:"container.xl",children:[(0,p.jsx)(u.Z,{items:[{title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}]}),(0,p.jsxs)(i.xu,{className:"flex justify-between items-center ",children:[(0,p.jsx)(i.xv,{fontSize:"xl",fontWeight:"medium",className:"mt-2",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,p.jsx)(l.zx,{onClick:function(){return e((0,d.yB)())},variant:"ghost",color:"red.500",disabled:0===a.length,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435"})]}),(0,p.jsxs)(i.xu,{className:"flex gap-x-6 mt-6 items-start lowTablet:flex-col lowTablet:items-center",children:[(0,p.jsxs)(i.xu,{width:"70%",className:"shadow-lg p-4 rounded-lg lowTablet:w-full",children:[t&&0===a.length&&(0,p.jsx)(i.xu,{className:"text-center flex justify-center w-full",children:(0,p.jsx)(c.$,{width:"100px",height:"100px",color:"blue.500",speed:"0.8s"})}),a&&a.map((function(e,n){return(0,p.jsx)(b,{item:e,changeAmountHandler:j,deleteBasketItemHandler:g},"".concat(e.id,"_").concat(n))})),a&&0===a.length&&!t&&(0,p.jsxs)(i.xu,{className:"mt-9 text-center lowTablet:mt-2",children:[(0,p.jsx)(i.xv,{fontSize:"xl",fontWeight:"bold",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),(0,p.jsx)(i.xv,{className:"mt-2",fontSize:"ml",children:"\u0412\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u043c \u0438\u043b\u0438 \u043f\u043e\u0438\u0441\u043a\u043e\u043c"})]})]}),(0,p.jsxs)(i.xu,{className:"shadow-lg p-4 rounded-lg sticky top-40 lowTablet:w-full lowTablet:static",width:"30%",children:[(0,p.jsxs)(i.xu,{className:"flex justify-between items-center",children:[(0,p.jsx)(i.xv,{fontSize:"xl",children:"\u0418\u0442\u043e\u0433\u043e:"}),(0,p.jsxs)(i.xv,{fontSize:"2xl",fontWeight:"bold",children:[h," \u20bd"]})]}),(0,p.jsx)(v,{disabled:0===a.length,createOrder:N})]})]})]})}}}]);
//# sourceMappingURL=241.4bd86f51.chunk.js.map